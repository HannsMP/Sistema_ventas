document.addEventListener("DOMContentLoaded",()=>{let t=document.getElementById("bubbleCanvas"),i=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;let s=getComputedStyle(document.documentElement),h=[],e=[];class a{constructor(){this.radius=20*Math.random()+5,this.x=Math.random()*(t.width-2*this.radius)+this.radius,this.y=Math.random()*(t.height-2*this.radius)+this.radius,this.speedX=2*Math.random()-1,this.speedY=2*Math.random()-1,this.alpha=.5*Math.random()+.5;let i=["--color-3","--color-4","--color-5","--color-6","--color-7","--color-8"].map(t=>s.getPropertyValue(t));this.rgba=`rgba(${i[Math.floor(Math.random()*(i.length-1))]}, ${this.alpha})`}draw(){i.beginPath(),i.arc(this.x,this.y,this.radius,0,2*Math.PI),i.fillStyle=this.rgba,i.fill(),i.closePath()}update(){this.x+=this.speedX,this.y+=this.speedY,(this.x+this.radius>t.width||this.x-this.radius<0)&&(this.speedX*=-1,this.createSplash(),this.adjustDirection()),(this.y+this.radius>t.height||this.y-this.radius<0)&&(this.speedY*=-1,this.createSplash(),this.adjustDirection())}createSplash(){for(let t=0;t<5;t++)e.push(new d(this.x,this.y))}adjustDirection(){let t=Math.sqrt(this.speedX*this.speedX+this.speedY*this.speedY),i=Math.atan2(this.speedY,this.speedX)+(.4*Math.random()-.2);this.speedX=t*Math.cos(i),this.speedY=t*Math.sin(i)}adjustPosition(){this.x+this.radius>t.width?this.x=t.width-this.radius:this.x-this.radius<0&&(this.x=this.radius),this.y+this.radius>t.height?this.y=t.height-this.radius:this.y-this.radius<0&&(this.y=this.radius)}}class d{constructor(t,i){this.x=t,this.y=i,this.radius=2*Math.random()+1,this.speedX=2*Math.random()-1,this.speedY=2*Math.random()-1,this.alpha=1}draw(){i.beginPath(),i.arc(this.x,this.y,this.radius,0,2*Math.PI),i.fillStyle=`rgba(255, 255, 255, ${this.alpha})`,i.fill(),i.closePath()}update(){this.x+=this.speedX,this.y+=this.speedY,this.alpha-=.02}}function r(){for(let t=0;t<100;t++)h.push(new a);o()}function o(){i.clearRect(0,0,t.width,t.height),h.forEach(t=>{t.update(),t.draw()}),e.forEach((t,i)=>{t.update(),t.draw(),t.alpha<=0&&e.splice(i,1)}),requestAnimationFrame(o)}function n(){t.width=window.innerWidth,t.height=window.innerHeight,h.forEach(t=>t.adjustPosition())}window.addEventListener("resize",n),r()});