class InputRange{ev=new EventListener;#a;#b;#c=!1;constructor(i,t={}){this.divBox=i,this.#a={min:t.min??0,max:t.max??100,step:t.step??1,gap:t.gap??0},this.#b={min:this.#a.min,max:this.#a.max},i.innerHTML=`<div class="wrapper"><div class="values"><input type="text" id="range1" value="${this.#a.min}" oninput="inputInt(this)"><span>&dash;</span><input type="text" id="range2" value="${this.#a.max}" oninput="inputInt(this)"></div><div class="container-input"><div class="slider-track"></div><div class="circle" id="circle-1"></div><div class="circle" id="circle-2"></div></div></div>`,this.displayValOne=i.querySelector("#range1"),this.displayValTwo=i.querySelector("#range2"),this.sliderTrack=i.querySelector(".slider-track"),this.circleOne=i.querySelector("#circle-1"),this.circleTwo=i.querySelector("#circle-2"),this.displayValOne.addEventListener("change",()=>this.#d(!0)),this.displayValTwo.addEventListener("change",()=>this.#d()),this.circleOne.addEventListener("mousedown",()=>this.#e(!0)),this.circleTwo.addEventListener("mousedown",()=>this.#e()),this.circleOne.addEventListener("touchstart",()=>this.#e(!0,!0)),this.circleTwo.addEventListener("touchstart",()=>this.#e(!1,!0)),this.#f()}get min(){return this.#b.min}get max(){return this.#b.max}set min(i){i=Math.max(this.#a.min,Math.min(i,this.#b.max-this.#a.gap)),this.#b.min===i||(this.displayValOne.value=i,this.#b.min=i,this.#f(),this.#c||this.ev.emit("changeMin",i))}set max(i){i=Math.min(this.#a.max,Math.max(i,this.#b.min+this.#a.gap)),this.#b.max===i||(this.displayValTwo.value=i,this.#b.max=i,this.#f(),this.#c||this.ev.emit("changeMax",i))}#d(i){let t=i?this.displayValOne:this.displayValTwo,e=parseInt(t.value,10);if(isNaN(e)){t.value=i?this.#b.min:this.#b.max;return}e=Math.round(e/this.#a.step)*this.#a.step,i?this.min=e:this.max=e,t.value=e}#e(s,n=!1){this.#c=!0;let a=i=>{let t=n?i.touches[0].clientX:i.clientX,e=this.sliderTrack.getBoundingClientRect(),a=Math.round((Math.min(Math.max(0,(t-e.left)/e.width*100),100)/100*(this.#a.max-this.#a.min)+this.#a.min)/this.#a.step)*this.#a.step;s?this.min=Math.min(a,this.#b.max-this.#a.gap):this.max=Math.max(a,this.#b.min+this.#a.gap)},o=()=>{this.#c=!1,s?this.ev.emit("changeMin",this.#b.min):this.ev.emit("changeMax",this.#b.max),document.removeEventListener(n?"touchmove":"mousemove",a),document.removeEventListener(n?"touchend":"mouseup",o)};document.addEventListener(n?"touchmove":"mousemove",a),document.addEventListener(n?"touchend":"mouseup",o)}#f(){let h=(this.#b.min-this.#a.min)/(this.#a.max-this.#a.min)*100,l=(this.#b.max-this.#a.min)/(this.#a.max-this.#a.min)*100;this.circleOne.style.left=`${h}%`,this.circleTwo.style.left=`${l}%`,this.sliderTrack.style.background=`linear-gradient(to right, rgb(var(--color-5)) ${h}% , rgb(var(--color-6)) ${h}% , rgb(var(--color-6)) ${l}%, rgb(var(--color-7)) ${l}%)`}}