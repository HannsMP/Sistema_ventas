class FileUnic{ev=new EventListener;files=[];constructor(e){this.input=e,e.style.display="none",this.fileBox=document.createElement("section"),this.fileBox.classList.add("file-box","bx","bx-file"),this.isDisabled=e.hasAttribute("disabled"),this.upload=document.createElement("div"),this.upload.classList.add("upload"),this.upload.innerHTML="<span>Subir archivo</span>",this.upload.addEventListener("click",()=>this.input.click()),this.input.addEventListener("change",()=>this.create()),this.isDisabled?this.input.parentNode.append(this.fileBox):this.input.parentNode.append(this.fileBox,this.upload)}state(e){e?(this.input.parentNode.append(this.upload),this.input.setAttribute("disabled","")):(this.upload.remove(),this.input.removeAttribute("disabled")),this.isDisabled=!e}create(){let e=this.input.files[0];if(e){this.fileBox.innerHTML="";let t=document.createElement("div");t.classList.add("file","upload");let i=document.createElement("i");i.classList.add("bx","bx-file");let s=document.createElement("span");s.textContent=e.name;let l=document.createElement("a");l.innerHTML="<i class='bx bx-x'></i>",l.classList.add("close"),l.addEventListener("click",()=>{this.files=[],this.input.value="",t.remove(),this.ev.emit("remove",{file:e})}),t.append(i,s,l),this.fileBox.append(t),this.ev.emit("upload",{file:e}),this.files[0]=e}}empty(){this.files=[],this.input.value="",this.fileBox.innerHTML="",this.ev.emit("empty")}}class FileMulti{ev=new EventListener;files=[];constructor(e){this.input=e,e.style.display="none",this.fileBox=document.createElement("section"),this.fileBox.classList.add("file-box","bx","bx-file"),this.isDisabled=e.hasAttribute("disabled"),this.upload=document.createElement("div"),this.upload.classList.add("upload"),this.upload.innerHTML="<span>Subir archivos</span>",this.upload.addEventListener("click",()=>this.input.click()),this.input.addEventListener("change",()=>this.create()),this.isDisabled?this.input.parentNode.append(this.fileBox):this.input.parentNode.append(this.fileBox,this.upload)}state(e){e?(this.input.parentNode.append(this.upload),this.input.setAttribute("disabled","")):(this.upload.remove(),this.input.removeAttribute("disabled")),this.isDisabled=!e}create(){Array.from(this.input.files).forEach(e=>{let t=document.createElement("div");t.classList.add("file","upload");let i=document.createElement("i");i.classList.add("bx","bx-file");let s=document.createElement("span");s.textContent=e.name;let l=document.createElement("a");l.innerHTML="<i class='bx bx-x'></i>",l.classList.add("close"),l.addEventListener("click",()=>{this.files=this.files.filter(t=>t!==e),this.updateInputFiles(),t.remove(),this.ev.emit("remove",{file:e})}),t.append(i,s,l),this.fileBox.append(t),this.ev.emit("upload",{file:e}),this.files.push(e)})}updateInputFiles(){let e=new DataTransfer;this.files.forEach(t=>e.items.add(t)),this.input.files=e.files}empty(){this.files=[],this.input.value="",this.fileBox.innerHTML="",this.ev.emit("empty")}}